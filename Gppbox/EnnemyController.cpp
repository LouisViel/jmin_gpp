#include "EnnemyController.hpp"
#include "Entity.hpp"
#include "C.hpp"

EnnemyController::EnnemyController(Entity* entity) : Component(entity) { }


//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////


void EnnemyController::preupdate(double dt)
{
	// Continuously update force to Ennemy
	entity->setDx(entity->dx + direction * entity->speed * dt);
}

void EnnemyController::fixed(double fdt) { }

void EnnemyController::update(double dt)
{
	// Invert Movement if collision detected
	if (entity->hcollision != 0) {
		direction = -entity->hcollision;
		entity->setDx(-entity->dx);
	}
}


//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////


bool EnnemyController::imgui()
{
	return false;
}


//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////


bool EnnemyController::canJump() { return false; }
